<link rel="stylesheet" href="/css/partials/admin/sidebar.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<aside class="sidebar">

  <!-- Header -->
  <div class="sidebar-header">
    <button class="hamburger" id="sidebarToggle">
      <i class="fa-solid fa-bars"></i>
    </button>

    <div class="profile">
      <img src="/images/ICON.png" alt="Admin">
      <div class="profile-text">
        <strong>Admin</strong>
        <span>KALA VINCI</span>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <ul>

      <li class="<%= activePage === 'dashboard' ? 'active' : '' %>">
        <a href="/admin/dashboard">
          <i class="fa-solid fa-gauge"></i><span>Dashboard</span>
        </a>
      </li>

      <li class="<%= activePage === 'products' ? 'active' : '' %>">
        <a href="/admin/products">
          <i class="fa-solid fa-box"></i><span>Products</span>
        </a>
      </li>

      <li class="has-submenu <%= activePage === 'orders' ? 'active' : '' %>">
        <a href="#">
          <i class="fa-solid fa-cart-shopping"></i><span>Orders</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/orders">Order Details</a></li>
        </ul>
      </li>

      <li class="has-submenu <%= activePage === 'users' ? 'active' : '' %>">
        <a href="#">
          <i class="fa-solid fa-users"></i><span>Users</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/customers">User Management</a></li>
        </ul>
      </li>

      <li class="<%= activePage === 'reports' ? 'active' : '' %>">
        <a href="/admin/reports">
          <i class="fa-solid fa-chart-line"></i><span>Reports</span>
        </a>
      </li>

      <li class="has-submenu <%= activePage === 'coupons' ? 'active' : '' %>">
        <a href="#">
          <i class="fa-solid fa-ticket"></i><span>Coupons</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/coupons">Coupon Management</a></li>
        </ul>
      </li>

      <li class="has-submenu <%= activePage === 'categories' ? 'active' : '' %>">
        <a href="/admin/categories">
          <i class="fa-solid fa-layer-group"></i><span>Categories</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/offers">Category Management</a></li>
        </ul>
        <ul class="submenu">
          <li><a href="/admin/offers">Style Management</a></li>
        </ul>
        <ul class="submenu">
          <li><a href="/admin/offers">Artist Management</a></li>
        </ul>
      </li>

      <li class="<%= activePage === 'banners' ? 'active' : '' %>">
        <a href="/admin/banners">
          <i class="fa-solid fa-image"></i><span>Banners</span>
        </a>
      </li>

      <li class="has-submenu <%= activePage === 'offers' ? 'active' : '' %>">
        <a href="#">
          <i class="fa-solid fa-tag"></i><span>Offers</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/offers">Offer Management</a></li>
        </ul>
      </li>

      <li class="has-submenu <%= activePage === 'shipments' ? 'active' : '' %>">
        <a href="#">
          <i class="fa-solid fa-truck"></i><span>Shipments</span>
        </a>
        <ul class="submenu">
          <li><a href="/admin/shipments">Shipment Resolve</a></li>
        </ul>
      </li>

      <li class="logout">
        <a href="/admin/logout">
          <i class="fa-solid fa-right-from-bracket"></i><span>Logout</span>
        </a>
      </li>

    </ul>
  </nav>
</aside>

<script>
  document.addEventListener("DOMContentLoaded", () => {
  const sidebar = document.querySelector(".sidebar");
  const toggle = document.getElementById("sidebarToggle");
  const submenuLinks = document.querySelectorAll(".has-submenu > a");

  toggle.addEventListener("click", () => {
    sidebar.classList.toggle("collapsed");
  });

  submenuLinks.forEach(link => {
    link.addEventListener("click", e => {
      if (sidebar.classList.contains("collapsed")) return;

      e.preventDefault();
      const parent = link.parentElement;
      const open = parent.classList.contains("active");

      document.querySelectorAll(".has-submenu").forEach(i =>
        i.classList.remove("active")
      );

      if (!open) parent.classList.add("active");
    });
  });
});

</script>
